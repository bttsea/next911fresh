{"version":3,"names":["_index","_interopRequireDefault","require","_path","e","__esModule","default","resolveRequest","req","issuer","process","versions","pnp","considerBuiltins","basedir","endsWith","path","posix","sep","win32","dirname","resolve","sync"],"sources":["resolve-request.ts"],"sourcesContent":["import resolve from 'next/dist/compiled/resolve/index.js'\nimport path from 'path'\n\nexport function resolveRequest(req: string, issuer: string) {\n  // The `resolve` package is prebuilt through ncc, which prevents\n  // PnP from being able to inject itself into it. To circumvent\n  // this, we simply use PnP directly when available.\n  // @ts-ignore\n  if (process.versions.pnp) {\n    const { resolveRequest } = require(`pnpapi`)\n    return resolveRequest(req, issuer, { considerBuiltins: false })\n  } else {\n    const basedir =\n      issuer.endsWith(path.posix.sep) || issuer.endsWith(path.win32.sep)\n        ? issuer\n        : path.dirname(issuer)\n    return resolve.sync(req, { basedir })\n  }\n}\n"],"mappings":"2EAAA,IAAAA,MAAA,CAAAC,sBAAA,CAAAC,OAAA,yCACA,IAAAC,KAAA,CAAAF,sBAAA,CAAAC,OAAA,UAAuB,SAAAD,uBAAAG,CAAA,SAAAA,CAAA,EAAAA,CAAA,CAAAC,UAAA,CAAAD,CAAA,EAAAE,OAAA,CAAAF,CAAA,GAEhB,QAAS,CAAAG,cAAcA,CAACC,GAAW,CAAEC,MAAc,CAAE,CAC1D;AACA;AACA;AACA;AACA,GAAIC,OAAO,CAACC,QAAQ,CAACC,GAAG,CAAE,CACxB,KAAM,CAAEL,cAAe,CAAC,CAAGL,OAAO,CAAC,QAAQ,CAAC,CAC5C,MAAO,CAAAK,cAAc,CAACC,GAAG,CAAEC,MAAM,CAAE,CAAEI,gBAAgB,CAAE,KAAM,CAAC,CAAC,CACjE,CAAC,IAAM,CACL,KAAM,CAAAC,OAAO,CACXL,MAAM,CAACM,QAAQ,CAACC,aAAI,CAACC,KAAK,CAACC,GAAG,CAAC,EAAIT,MAAM,CAACM,QAAQ,CAACC,aAAI,CAACG,KAAK,CAACD,GAAG,CAAC,CAC9DT,MAAM,CACNO,aAAI,CAACI,OAAO,CAACX,MAAM,CAAC,CAC1B,MAAO,CAAAY,cAAO,CAACC,IAAI,CAACd,GAAG,CAAE,CAAEM,OAAQ,CAAC,CAAC,CACvC,CACF","ignoreList":[]}