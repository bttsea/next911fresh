{"version":3,"names":["_terser","require","buildTerserOptions","ecma","warnings","parse","compress","mangle","module","output","toplevel","ie8","keep_classnames","keep_fnames","safari10","shebang","comments","beautify","semicolons","minify","options","file","input","inputSourceMap","terserOptions","sourceMap","content","error","map","code","terser","_default","exports","default"],"sources":["minify.ts"],"sourcesContent":["/* eslint-disable\n  arrow-body-style\n*/\nimport { minify as terser, MinifyOptions } from 'terser'\n\nconst buildTerserOptions = ({\n  ecma,\n  warnings,\n  parse = {},\n  compress = {},\n  mangle,\n  module,\n  output,\n  toplevel,\n  ie8,\n  /* eslint-disable camelcase */\n  keep_classnames,\n  keep_fnames,\n  /* eslint-enable camelcase */\n  safari10,\n}: MinifyOptions = {}) => ({\n  ecma,\n  warnings,\n  parse: { ...parse },\n  compress: typeof compress === 'boolean' ? compress : { ...compress },\n  // eslint-disable-next-line no-nested-ternary\n  mangle:\n    mangle == null\n      ? true\n      : typeof mangle === 'boolean'\n      ? mangle\n      : { ...mangle },\n  output: {\n    shebang: true,\n    comments: false,\n    beautify: false,\n    semicolons: true,\n    ...output,\n  },\n  module,\n  toplevel,\n  ie8,\n  keep_classnames,\n  keep_fnames,\n  safari10,\n})\n\nconst minify = (options: {\n  file: string\n  input: string\n  inputSourceMap?: string\n  terserOptions?: MinifyOptions\n}) => {\n  const { file, input, inputSourceMap } = options\n\n  // Copy terser options\n  const terserOptions = buildTerserOptions(options.terserOptions) as any\n\n  // Add source map data\n  if (inputSourceMap) {\n    terserOptions.sourceMap = {\n      content: inputSourceMap,\n    }\n  }\n\n  const { error, map, code, warnings } = terser(\n    { [file]: input },\n    terserOptions\n  )\n\n  return { error, map, code, warnings }\n}\n\nexport default minify\n"],"mappings":"4DAGA,IAAAA,OAAA,CAAAC,OAAA,WAHA;AACA;AACA,EAGA,KAAM,CAAAC,kBAAkB,CAAGA,CAAC,CAC1BC,IAAI,CACJC,QAAQ,CACRC,KAAK,CAAG,CAAC,CAAC,CACVC,QAAQ,CAAG,CAAC,CAAC,CACbC,MAAM,CACNC,MAAM,CACNC,MAAM,CACNC,QAAQ,CACRC,GAAG,CACH,8BACAC,eAAe,CACfC,WAAW,CACX,6BACAC,QACa,CAAC,CAAG,CAAC,CAAC,IAAM,CACzBX,IAAI,CACJC,QAAQ,CACRC,KAAK,CAAE,CAAE,GAAGA,KAAM,CAAC,CACnBC,QAAQ,CAAE,MAAO,CAAAA,QAAQ,GAAK,SAAS,CAAGA,QAAQ,CAAG,CAAE,GAAGA,QAAS,CAAC,CACpE;AACAC,MAAM,CACJA,MAAM,EAAI,IAAI,CACV,IAAI,CACJ,MAAO,CAAAA,MAAM,GAAK,SAAS,CAC3BA,MAAM,CACN,CAAE,GAAGA,MAAO,CAAC,CACnBE,MAAM,CAAE,CACNM,OAAO,CAAE,IAAI,CACbC,QAAQ,CAAE,KAAK,CACfC,QAAQ,CAAE,KAAK,CACfC,UAAU,CAAE,IAAI,CAChB,GAAGT,MACL,CAAC,CACDD,MAAM,CACNE,QAAQ,CACRC,GAAG,CACHC,eAAe,CACfC,WAAW,CACXC,QACF,CAAC,CAAC,CAEF,KAAM,CAAAK,MAAM,CAAIC,OAKf,EAAK,CACJ,KAAM,CAAEC,IAAI,CAAEC,KAAK,CAAEC,cAAe,CAAC,CAAGH,OAAO,CAE/C;AACA,KAAM,CAAAI,aAAa,CAAGtB,kBAAkB,CAACkB,OAAO,CAACI,aAAa,CAAQ,CAEtE;AACA,GAAID,cAAc,CAAE,CAClBC,aAAa,CAACC,SAAS,CAAG,CACxBC,OAAO,CAAEH,cACX,CAAC,CACH,CAEA,KAAM,CAAEI,KAAK,CAAEC,GAAG,CAAEC,IAAI,CAAEzB,QAAS,CAAC,CAAG,GAAA0B,cAAM,EAC3C,CAAE,CAACT,IAAI,EAAGC,KAAM,CAAC,CACjBE,aACF,CAAC,CAED,MAAO,CAAEG,KAAK,CAAEC,GAAG,CAAEC,IAAI,CAAEzB,QAAS,CAAC,CACvC,CAAC,KAAA2B,QAAA,CAAAC,OAAA,CAAAC,OAAA,CAEcd,MAAM","ignoreList":[]}