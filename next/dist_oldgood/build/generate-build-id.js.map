{"version":3,"names":["generateBuildId","generate","fallback","buildId","test","Error","trim"],"sources":["generate-build-id.ts"],"sourcesContent":["export async function generateBuildId(\n  generate: () => string | null,\n  fallback: () => string\n): Promise<string> {\n  let buildId = await generate()\n  // If there's no buildId defined we'll fall back\n  if (buildId === null) {\n    // We also create a new buildId if it contains the word `ad` to avoid false\n    // positives with ad blockers\n    while (!buildId || /ad/i.test(buildId)) {\n      buildId = fallback()\n    }\n  }\n\n  if (typeof buildId !== 'string') {\n    throw new Error(\n      'generateBuildId did not return a string. https://err.sh/zeit/next.js/generatebuildid-not-a-string'\n    )\n  }\n\n  return buildId.trim()\n}\n"],"mappings":"6EAAO,cAAe,CAAAA,eAAeA,CACnCC,QAA6B,CAC7BC,QAAsB,CACL,CACjB,GAAI,CAAAC,OAAO,CAAG,KAAM,CAAAF,QAAQ,CAAC,CAAC,CAC9B;AACA,GAAIE,OAAO,GAAK,IAAI,CAAE,CACpB;AACA;AACA,MAAO,CAACA,OAAO,EAAI,KAAK,CAACC,IAAI,CAACD,OAAO,CAAC,CAAE,CACtCA,OAAO,CAAGD,QAAQ,CAAC,CAAC,CACtB,CACF,CAEA,GAAI,MAAO,CAAAC,OAAO,GAAK,QAAQ,CAAE,CAC/B,KAAM,IAAI,CAAAE,KAAK,CACb,mGACF,CAAC,CACH,CAEA,MAAO,CAAAF,OAAO,CAACG,IAAI,CAAC,CAAC,CACvB","ignoreList":[]}