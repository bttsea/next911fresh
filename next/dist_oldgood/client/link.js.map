{"version":3,"names":["_url","require","_react","_interopRequireWildcard","_propTypes","_interopRequireDefault","_router","_rewriteUrlForExport","_utils","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","isLocal","href","url","parse","origin","getLocationOrigin","host","protocol","memoizedFormatUrl","formatFunc","lastHref","lastAs","lastResult","as","result","formatUrl","formatWithValidation","observer","listeners","Map","IntersectionObserver","window","getObserver","undefined","entries","forEach","entry","target","cb","isIntersecting","intersectionRatio","unobserve","delete","rootMargin","listenToIntersections","el","observe","err","console","error","Link","Component","constructor","props","p","cleanUpListeners","formatUrls","asHref","linkClicked","nodeName","currentTarget","metaKey","ctrlKey","shiftKey","nativeEvent","which","pathname","location","resolve","preventDefault","scroll","indexOf","Router","replace","shallow","then","success","scrollTo","document","body","focus","process","env","NODE_ENV","prefetch","warn","componentWillUnmount","handleRef","ref","tagName","parsedHref","render","children","createElement","child","Children","only","current","onMouseEnter","onClick","defaultPrevented","passHref","type","__NEXT_EXPORT_TRAILING_SLASH","__NEXT_DATA__","nextExport","rewriteUrlForNextExport","React","cloneElement","propTypes","execOnce","exact","PropTypes","oneOfType","string","object","isRequired","bool","element","propName","value","_default","exports"],"sources":["link.tsx"],"sourcesContent":["/* global __NEXT_DATA__ */\ndeclare const __NEXT_DATA__: any\n\nimport { resolve, parse, UrlObject } from 'url'\nimport React, { Component, Children } from 'react'\nimport PropTypes from 'prop-types'\nimport Router from './router'\nimport { rewriteUrlForNextExport } from '../next-server/lib/router/rewrite-url-for-export'\nimport {\n  execOnce,\n  formatWithValidation,\n  getLocationOrigin,\n} from '../next-server/lib/utils'\n\nfunction isLocal(href: string) {\n  const url = parse(href, false, true)\n  const origin = parse(getLocationOrigin(), false, true)\n\n  return (\n    !url.host || (url.protocol === origin.protocol && url.host === origin.host)\n  )\n}\n\ntype Url = string | UrlObject\ntype FormatResult = { href: string; as?: string }\n\nfunction memoizedFormatUrl(formatFunc: (href: Url, as?: Url) => FormatResult) {\n  let lastHref: null | Url = null\n  let lastAs: undefined | null | Url = null\n  let lastResult: null | FormatResult = null\n  return (href: Url, as?: Url) => {\n    if (lastResult && href === lastHref && as === lastAs) {\n      return lastResult\n    }\n\n    const result = formatFunc(href, as)\n    lastHref = href\n    lastAs = as\n    lastResult = result\n    return result\n  }\n}\n\nfunction formatUrl(url: Url) {\n  return url && typeof url === 'object' ? formatWithValidation(url) : url\n}\n\nexport type LinkProps = {\n  href: Url\n  as?: Url\n  replace?: boolean\n  scroll?: boolean\n  shallow?: boolean\n  passHref?: boolean\n  prefetch?: boolean\n}\n\nlet observer: IntersectionObserver\nconst listeners = new Map()\nconst IntersectionObserver =\n  typeof window !== 'undefined' ? (window as any).IntersectionObserver : null\n\nfunction getObserver() {\n  // Return shared instance of IntersectionObserver if already created\n  if (observer) {\n    return observer\n  }\n\n  // Only create shared IntersectionObserver if supported in browser\n  if (!IntersectionObserver) {\n    return undefined\n  }\n\n  return (observer = new IntersectionObserver(\n    (entries: any) => {\n      entries.forEach((entry: any) => {\n        if (!listeners.has(entry.target)) {\n          return\n        }\n\n        const cb = listeners.get(entry.target)\n        if (entry.isIntersecting || entry.intersectionRatio > 0) {\n          observer.unobserve(entry.target)\n          listeners.delete(entry.target)\n          cb()\n        }\n      })\n    },\n    { rootMargin: '200px' }\n  ))\n}\n\nconst listenToIntersections = (el: any, cb: any) => {\n  const observer = getObserver()\n  if (!observer) {\n    return () => {}\n  }\n\n  observer.observe(el)\n  listeners.set(el, cb)\n  return () => {\n    try {\n      observer.unobserve(el)\n    } catch (err) {\n      console.error(err)\n    }\n    listeners.delete(el)\n  }\n}\n\nclass Link extends Component<LinkProps> {\n  static propTypes?: any\n  p: boolean\n  constructor(props: LinkProps) {\n    super(props)\n    if (process.env.NODE_ENV !== 'production') {\n      if (props.prefetch) {\n        console.warn(\n          'Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://err.sh/zeit/next.js/prefetch-true-deprecated'\n        )\n      }\n    }\n    this.p = props.prefetch !== false\n  }\n\n  cleanUpListeners = () => {}\n\n  componentWillUnmount() {\n    this.cleanUpListeners()\n  }\n\n  handleRef(ref: Element) {\n    if (this.p && IntersectionObserver && ref && ref.tagName) {\n      this.cleanUpListeners()\n      this.cleanUpListeners = listenToIntersections(ref, () => {\n        this.prefetch()\n      })\n    }\n  }\n\n  // The function is memoized so that no extra lifecycles are needed\n  // as per https://reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html\n  formatUrls = memoizedFormatUrl((href, asHref) => {\n    return {\n      href: formatUrl(href),\n      as: asHref ? formatUrl(asHref) : asHref,\n    }\n  })\n\n  linkClicked = (e: React.MouseEvent) => {\n    // @ts-ignore target exists on currentTarget\n    const { nodeName, target } = e.currentTarget\n    if (\n      nodeName === 'A' &&\n      ((target && target !== '_self') ||\n        e.metaKey ||\n        e.ctrlKey ||\n        e.shiftKey ||\n        (e.nativeEvent && e.nativeEvent.which === 2))\n    ) {\n      // ignore click for new tab / new window behavior\n      return\n    }\n\n    let { href, as } = this.formatUrls(this.props.href, this.props.as)\n\n    if (!isLocal(href)) {\n      // ignore click if it's outside our scope (e.g. https://google.com)\n      return\n    }\n\n    const { pathname } = window.location\n    href = resolve(pathname, href)\n    as = as ? resolve(pathname, as) : href\n\n    e.preventDefault()\n\n    //  avoid scroll for urls with anchor refs\n    let { scroll } = this.props\n    if (scroll == null) {\n      scroll = as.indexOf('#') < 0\n    }\n\n    // replace state instead of push if prop is present\n    Router[this.props.replace ? 'replace' : 'push'](href, as, {\n      shallow: this.props.shallow,\n    }).then((success: boolean) => {\n      if (!success) return\n      if (scroll) {\n        window.scrollTo(0, 0)\n        document.body.focus()\n      }\n    })\n  }\n\n  prefetch() {\n    if (!this.p || typeof window === 'undefined') return\n\n    // Prefetch the JSON page if asked (only in the client)\n    const { pathname } = window.location\n    const { href: parsedHref } = this.formatUrls(this.props.href, this.props.as)\n    const href = resolve(pathname, parsedHref)\n    Router.prefetch(href)\n  }\n\n  render() {\n    let { children } = this.props\n    const { href, as } = this.formatUrls(this.props.href, this.props.as)\n    // Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\n    if (typeof children === 'string') {\n      children = <a>{children}</a>\n    }\n\n    // This will return the first child, if multiple are provided it will throw an error\n    const child: any = Children.only(children)\n    const props: {\n      onMouseEnter: React.MouseEventHandler\n      onClick: React.MouseEventHandler\n      href?: string\n      ref?: any\n    } = {\n      ref: (el: any) => {\n        this.handleRef(el)\n\n        if (child && typeof child === 'object' && child.ref) {\n          if (typeof child.ref === 'function') child.ref(el)\n          else if (typeof child.ref === 'object') {\n            child.ref.current = el\n          }\n        }\n      },\n      onMouseEnter: (e: React.MouseEvent) => {\n        if (child.props && typeof child.props.onMouseEnter === 'function') {\n          child.props.onMouseEnter(e)\n        }\n        this.prefetch()\n      },\n      onClick: (e: React.MouseEvent) => {\n        if (child.props && typeof child.props.onClick === 'function') {\n          child.props.onClick(e)\n        }\n        if (!e.defaultPrevented) {\n          this.linkClicked(e)\n        }\n      },\n    }\n\n    // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n    // defined, we specify the current 'href', so that repetition is not needed by the user\n    if (\n      this.props.passHref ||\n      (child.type === 'a' && !('href' in child.props))\n    ) {\n      props.href = as || href\n    }\n\n    // Add the ending slash to the paths. So, we can serve the\n    // \"<page>/index.html\" directly.\n    if (process.env.__NEXT_EXPORT_TRAILING_SLASH) {\n      if (\n        props.href &&\n        typeof __NEXT_DATA__ !== 'undefined' &&\n        __NEXT_DATA__.nextExport\n      ) {\n        props.href = rewriteUrlForNextExport(props.href)\n      }\n    }\n\n    return React.cloneElement(child, props)\n  }\n}\n\nif (process.env.NODE_ENV === 'development') {\n  const warn = execOnce(console.error)\n\n  // This module gets removed by webpack.IgnorePlugin\n  const exact = require('prop-types-exact')\n  Link.propTypes = exact({\n    href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    as: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    prefetch: PropTypes.bool,\n    replace: PropTypes.bool,\n    shallow: PropTypes.bool,\n    passHref: PropTypes.bool,\n    scroll: PropTypes.bool,\n    children: PropTypes.oneOfType([\n      PropTypes.element,\n      (props: any, propName) => {\n        const value = props[propName]\n\n        if (typeof value === 'string') {\n          warn(\n            `Warning: You're using a string directly inside <Link>. This usage has been deprecated. Please add an <a> tag as child of <Link>`\n          )\n        }\n\n        return null\n      },\n    ]).isRequired,\n  })\n}\n\nexport default Link\n"],"mappings":"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","ignoreList":[]}